# Railway Configuration for House of Spells Marketplace
# This file configures build and deployment settings for Railway

[build]
builder = "DOCKERFILE"
dockerfilePath = "services/api/Dockerfile"

[deploy]
# Use Dockerfile CMD instead of overriding with startCommand
# Dockerfile already sets WORKDIR /app/services/api and CMD ["node", "dist/main.js"]
# Removing startCommand to let Dockerfile handle it
# startCommand = "node dist/main.js"
# Temporarily disabled healthcheck to allow deployment to complete
# Re-enable after confirming service starts successfully
# healthcheckPath = "/api/health"
# healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Service-specific configurations
# Note: Environment variables must be set in Railway dashboard
# Use railway-env-setup.sh script to generate values
