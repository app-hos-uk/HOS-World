# Railway Configuration for House of Spells Marketplace
# This file configures build and deployment settings for Railway

[build]
builder = "DOCKERFILE"

[deploy]
# Explicitly set start command to use production build (not npm start which runs nest start)
# Railway was using npm start which runs nest start (dev mode) instead of the Dockerfile CMD
startCommand = "cd /app/services/api && node dist/main.js"
# Temporarily disabled healthcheck to allow deployment to complete
# Re-enable after confirming service starts successfully
# healthcheckPath = "/api/health"
# healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Service-specific configurations
# Note: Environment variables must be set in Railway dashboard
# Use railway-env-setup.sh script to generate values
